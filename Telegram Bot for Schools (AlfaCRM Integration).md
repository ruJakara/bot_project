# Telegram Bot for Schools (AlfaCRM Integration)

–≠—Ç–æ—Ç –±–æ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —à–∫–æ–ª—ã, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å AlfaCRM –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —É—á–µ–Ω–∏–∫–∞–º –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–≥—Ä–∞–º —á–µ—Ä–µ–∑ Telegram Web Apps.

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- **üéÆ –ò–≥—Ä—ã**: –î–æ—Å—Ç—É–ø –∫ –∏–≥—Ä–∞–º –ø—Ä—è–º–æ –≤ Telegram. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (–æ—á–∫–∏ –∏ –≤—Ä–µ–º—è) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.
- **üí∞ –°—á–µ—Ç–∞**: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–æ–≤ –Ω–∞ –æ–ø–ª–∞—Ç—É —á–µ—Ä–µ–∑ AlfaCRM.
- **üìù –ó–∞–ø–∏—Å—å**: –£–¥–æ–±–Ω–∞—è —Ñ–æ—Ä–º–∞ –∑–∞–ø–∏—Å–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ AlfaCRM.
- **üèÜ –õ–∏–¥–µ—Ä–±–æ—Ä–¥**: –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –∏–≥—Ä–æ–∫–æ–≤.
- **üí¨ –ß–∞—Ç**: –ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –±–æ—Ç–∞ –≤ —á–∞—Ç AlfaCRM.

## –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:
   ```bash
   git clone https://github.com/your-repo/bot_project.git
   cd bot_project
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   ```bash
   pip install -r requirements.txt
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è:
   ```bash
   cp .env.example .env
   ```
   - `BOT_TOKEN`: –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –æ—Ç @BotFather.
   - `ALFACRM_DOMAIN`: –ê–¥—Ä–µ—Å –≤–∞—à–µ–π CRM (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://myschool.alfacrm.pro`).
   - `ALFACRM_TOKEN`: API —Ç–æ–∫–µ–Ω –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ AlfaCRM.
   - `DOMAIN`: –î–æ–º–µ–Ω, –≥–¥–µ —Ä–∞–∑–º–µ—â–µ–Ω—ã —Ñ–∞–π–ª—ã –∏–≥—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `rujakara.github.io/bot_project`).

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**:
   ```bash
   python main.py
   ```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `main.py`: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –∏ –±–æ—Ç–∞.
- `config.py`: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫.
- `keyboards.py`: –í—Å–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –±–æ—Ç–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
- `handlers/`: –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π.
- `models.py`: –û–ø–∏—Å–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (SQLite) –∏ –º–∏–≥—Ä–∞—Ü–∏–∏.
- `games.json`: –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–≥—Ä –∏ –∏—Ö –æ–ø–∏—Å–∞–Ω–∏–µ.
- `teGame/`: –§–∞–π–ª—ã –∏–≥—Ä (HTML/JS).

## –î–µ–ø–ª–æ–π (Render.com)

–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Render.com:
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π "Web Service".
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
3. –£–∫–∞–∂–∏—Ç–µ Build Command: `pip install -r requirements.txt`.
4. –£–∫–∞–∂–∏—Ç–µ Start Command: `python main.py`.
5. –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env` –≤ —Ä–∞–∑–¥–µ–ª "Environment Variables".
6. –£–∫–∞–∂–∏—Ç–µ `RENDER_URL` (–≤–∞—à –∞–¥—Ä–µ—Å –Ω–∞ render.com) –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤–µ–±—Ö—É–∫–æ–≤.

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–¥—É–∫—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–∂–∏.
